import{r as _,o as s,c as t,d as i,t as c,a as l,g as h,F as Q,h as f,i as m,v as k}from"./app-DNTRvR-x.js";import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";const v={props:{questions:{type:Array,required:!0}},data(){return{selectedQuestion:void 0,queuedQuestions:[],selectedOptions:[],showFeedback:!1,isCorrect:!1}},computed:{text(){return this.initQuestion(),this.selectedQuestion.text},code(){return this.initQuestion(),this.selectedQuestion.code},options(){return this.initQuestion(),this.selectedQuestion.options},answers(){return this.initQuestion(),this.selectedQuestion.answers}},methods:{clearAndNext(){this.selectedOptions=[],this.showFeedback=!1,this.queuedQuestions=this.queuedQuestions.filter(o=>o!=this.selectedQuestion),this.queuedQuestions.length===0&&(this.queuedQuestions=this.questions.slice(0),this.queuedQuestions=this.queuedQuestions.sort(()=>Math.random()-.5)),this.selectedQuestion=this.queuedQuestions[0],(this.selectedQuestion.shuffleOptions??!0)&&(this.selectedQuestion.options=this.selectedQuestion.options.sort(()=>Math.random()-.5))},initQuestion(){this.selectedQuestion===void 0&&this.clearAndNext()},submitAnswer(){this.showFeedback=!0,this.isCorrect=this.selectedOptions.length===this.answers.length&&this.selectedOptions.every(o=>this.answers.includes(o)),this.isCorrect&&setTimeout(()=>{this.clearAndNext()},1e3)}}},w={class:"multiple-choice-question"},q={key:0,class:"code-container"},x={class:"option-label"},g=["value"],y={key:1},C={key:0},A={key:1};function O(o,n,F,N,u,e){const r=_("ShikiRenderer");return s(),t("div",w,[i("p",null,c(e.text),1),e.code?(s(),t("div",q,[l(r,{code:e.code,language:"cpp"},null,8,["code"])])):h("",!0),(s(!0),t(Q,null,f(e.options,(d,a)=>(s(),t("div",{key:a,class:"option"},[i("label",null,[i("div",x,[m(i("input",{type:"checkbox",value:d,"onUpdate:modelValue":n[0]||(n[0]=p=>u.selectedOptions=p)},null,8,g),[[k,u.selectedOptions]]),l(r,{code:d,language:"text"},null,8,["code"])])])]))),128)),i("button",{class:"custom-button",onClick:n[1]||(n[1]=(...d)=>e.submitAnswer&&e.submitAnswer(...d))},"提交"),u.showFeedback?(s(),t("div",y,[u.isCorrect?(s(),t("p",C,"回答正确")):(s(),t("p",A,"回答错误，正确答案是："+c(e.answers.join(", ")),1))])):h("",!0)])}const M=b(v,[["render",O],["__scopeId","data-v-f3f29b6d"],["__file","Choices.vue"]]);export{M as default};
