---
title: 初识源文件的处理
---

在 C++ 中，源文件是一个文本文件，其中包含了 C++ 程序的源代码。源文件的扩展名通常是 `.cpp`，但也可以是 `.cc`、`.cxx`、`.c++` 等。

源文件的处理是一个比较复杂的过程，在这里我们先介绍一下入门时阅读和编写代码必须需要接触到的知识。

## 预处理指令

::: caution TODO: 预处理指令
:::

## 空白字符

在 C++ 中，源文件里的空格、制表符（按下键盘上Tab默认输入的字符）和换行符（按下键盘上的Enter或者return）是无关紧要的。  

例如，下面的代码
```cpp
std::println("Hello, World!");
```
与下面的代码
```cpp
std

::

println
(
     "Hello, World!" 
)
;
```
是等价的。

只要不破坏由多个字符组成的标识符、标点符号和字面量，可以在源文件中任意添加空格、制表符和换行符，而不会影响程序表现。
（由于标识符中间不能有空格，所以，输入到一个标识符中间的空格会将标识符分成前后两半，成为两个与原来不同的标识符。）

## 合并行

在 C++ 中，行末的 `\` 符号表示该行未结束，下一行是该行的延续。例如：

```cpp
std::println("Hello, \
World!");
```

这两行代码等价于：

```cpp
std::println("Hello, World!");
```

:::info
这种方式经常见于宏定义场景。例如：

```cpp
#define DECLARE_PRINT_HEADER_MESSAGE(header, name) \
    void name(std::string str) { \
        std::println(std::string(header) + str); \
    }
```

这里的 `\` 用于将宏定义的内容延续到下一行。（因为宏定义的内容不能跨行）
:::

## 注释

在 C++ 中，注释用于在源文件中添加对代码的解释。注释不会被编译器处理，可以用于添加代码的解释、调试信息等。

C++ 中有两种注释方式：

- 单行注释：以 `//` 开头，直到行末为止。
- 多行注释：以 `/*` 开头，以 `*/` 结束。

注意，对于单行注释，如果行末有合并行的`\`字符，这一行会和下一行合并，注释会直到合并后的行末。

例如：

```cpp
// 这是一个单行注释
std::println("Hello, World!"); // 这也是一个\
单行注释
```

```cpp
/*
这是一个多行注释
这是第二行
*/
std::println("Hello, World!"); /* 这也是一个多行注释 */
```